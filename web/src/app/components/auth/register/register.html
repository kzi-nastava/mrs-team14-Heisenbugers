<div class="min-h-screen bg-white">
  <header class="relative h-[85px] w-full bg-black text-white">
    <!-- left content -->
    <div class="h-full flex items-center px-[70px]">
      <!-- logo from figma -->
      <div class="relative w-[75px] h-[49px]">
        <!-- left big svg -->
        <img src="icons/logo.svg" alt="logo" class="h-12 w-auto" />
      </div>
    </div>

    <!-- centered title -->
    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
      <h1 class="text-[35px] font-normal">Registration</h1>
    </div>
  </header>

  <main class="px-[150px] py-[42px]">
    <div class="grid grid-cols-1 lg:grid-cols-[460px_1fr] gap-[90px] items-start">
      <!-- LEFT: FORM -->
      <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-[18px]">
        <!-- First/Last -->
        <div class="grid grid-cols-2 gap-[18px]">
          <div>
            <label class="block text-[12px] text-neutral-300 mb-[10px]">First name</label>
            <input
              type="text"
              formControlName="firstName"
              class="w-full h-[38px] rounded-[10px] border border-neutral-200 bg-white px-4 shadow-sm focus:outline-none focus:ring-4 focus:ring-lime-200"
              [class.border-neutral-200]="!isInvalid('firstName')"
              [class.focus:ring-lime-200]="!isInvalid('firstName')"
              [class.border-red-400]="isInvalid('firstName')"
              [class.focus:ring-red-200]="isInvalid('firstName')"
            />
            <p *ngIf="f.firstName.touched && f.firstName.invalid" class="mt-1 text-xs text-red-500">Required</p>
          </div>
          <div>
            <label class="block text-[12px] text-neutral-300 mb-[10px]">Last name</label>
            <input
              type="text"
              formControlName="lastName"
              class="w-full h-[38px] rounded-[10px] border border-neutral-200 bg-white px-4 shadow-sm
         focus:outline-none focus:ring-4 focus:ring-lime-200"
              [class.border-neutral-200]="!isInvalid('lastName')"
              [class.focus:ring-lime-200]="!isInvalid('lastName')"
              [class.border-red-400]="isInvalid('lastName')"
              [class.focus:ring-red-200]="isInvalid('lastName')"
            />
            <p *ngIf="f.lastName.touched && f.lastName.invalid" class="mt-1 text-xs text-red-500">Required</p>
          </div>
        </div>

        <div>
          <label class="block text-[12px] text-neutral-300 mb-[10px]">Email Address</label>
          <input
            type="email"
            formControlName="email"
            class="w-full h-[38px] rounded-[10px] border border-neutral-200 bg-white px-4 shadow-sm
         focus:outline-none focus:ring-4 focus:ring-lime-200"
            [class.border-neutral-200]="!isInvalid('email')"
            [class.focus:ring-lime-200]="!isInvalid('email')"
            [class.border-red-400]="isInvalid('email')"
            [class.focus:ring-red-200]="isInvalid('email')"
          />
          <p *ngIf="f.email.touched && f.email.hasError('required')" class="mt-1 text-xs text-red-500">Required</p>
          <p *ngIf="f.email.touched && f.email.hasError('email')" class="mt-1 text-xs text-red-500">Invalid email</p>
        </div>

        <div>
          <label class="block text-[12px] text-neutral-300 mb-[10px]">Phone</label>
          <input
            type="text"
            formControlName="phone"
            class="w-full h-[38px] rounded-[10px] border border-neutral-200 bg-white px-4 shadow-sm
         focus:outline-none focus:ring-4 focus:ring-lime-200"
            [class.border-neutral-200]="!isInvalid('phone')"
            [class.focus:ring-lime-200]="!isInvalid('phone')"
            [class.border-red-400]="isInvalid('phone')"
            [class.focus:ring-red-200]="isInvalid('phone')"
          />
          <p *ngIf="f.phone.touched && f.phone.hasError('required')" class="mt-1 text-xs text-red-500">
            Required
          </p>
          <p *ngIf="f.phone.touched && f.phone.hasError('pattern')" class="mt-1 text-xs text-red-500">
            Invalid phone format
          </p>
        </div>

        <div>
          <label class="block text-[12px] text-neutral-300 mb-[10px]">Address</label>
          <input
            type="text"
            formControlName="address"
            class="w-full h-[38px] rounded-[10px] border border-neutral-200 bg-white px-4 shadow-sm
         focus:outline-none focus:ring-4 focus:ring-lime-200"
            [class.border-neutral-200]="!isInvalid('address')"
            [class.focus:ring-lime-200]="!isInvalid('address')"
            [class.border-red-400]="isInvalid('address')"
            [class.focus:ring-red-200]="isInvalid('address')"
          />
          <p *ngIf="f.address.touched && f.address.invalid" class="mt-1 text-xs text-red-500">Required</p>
        </div>

        <div>
          <label class="block text-[12px] text-neutral-300 mb-[10px]">Password</label>
          <div class="relative">
            <input
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              class="w-full h-[38px] rounded-[10px] border border-neutral-200 bg-white px-4 pr-12 shadow-sm
           focus:outline-none focus:ring-4 focus:ring-lime-200"
              [class.border-neutral-200]="!(isInvalid('password') || mismatchActive)"
              [class.focus:ring-lime-200]="!(isInvalid('password') || mismatchActive)"
              [class.border-red-400]="isInvalid('password') || mismatchActive"
              [class.focus:ring-red-200]="isInvalid('password') || mismatchActive"
            />

            <button
              type="button"
              (click)="togglePassword()"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-black"
              [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
            >
              <img
                [src]="showPassword ? 'icons/eye.svg' : 'icons/eye-off.svg'"
                alt=""
                class="h-5 w-5"
              />
            </button>
          </div>

          <p *ngIf="f.password.touched && f.password.hasError('required')" class="mt-1 text-xs text-red-500">Required</p>
          <p *ngIf="f.password.touched && f.password.hasError('minlength')" class="mt-1 text-xs text-red-500">Min 6 chars</p>
          <p *ngIf="passwordMismatch" class="mt-1 text-xs text-red-500">
            Passwords do not match
          </p>
        </div>

        <div>
          <label class="block text-[12px] text-neutral-300 mb-[10px]">Confirm password</label>
          <div class="relative">
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              formControlName="confirmPassword"
              class="w-full h-[38px] rounded-[10px] border border-neutral-200 bg-white px-4 pr-12 shadow-sm
           focus:outline-none focus:ring-4 focus:ring-lime-200"
              [class.border-neutral-200]="!(isInvalid('confirmPassword') || mismatchActive)"
              [class.focus:ring-lime-200]="!(isInvalid('confirmPassword') || mismatchActive)"
              [class.border-red-400]="isInvalid('confirmPassword') || mismatchActive"
              [class.focus:ring-red-200]="isInvalid('confirmPassword') || mismatchActive"
            />

            <button
              type="button"
              (click)="toggleConfirmPassword()"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-black"
              [attr.aria-label]="showConfirmPassword ? 'Hide password' : 'Show password'"
            >
              <img
                [src]="showConfirmPassword ? 'icons/eye.svg' : 'icons/eye-off.svg'"
                alt=""
                class="h-5 w-5"
              />
            </button>
          </div>

          <p *ngIf="f.confirmPassword.touched && f.confirmPassword.hasError('required')" class="mt-1 text-xs text-red-500">Required</p>
          <p *ngIf="passwordMismatch" class="mt-1 text-xs text-red-500">Passwords do not match</p>
        </div>

        <button type="submit"
                class="mx-auto block h-[42px] w-[190px] rounded-[10px] bg-lime-300 text-black font-semibold shadow
                 hover:bg-lime-200 active:scale-[0.99] mt-[10px]">
          Register
        </button>

        <p class="text-[10px] text-neutral-300 text-center leading-snug -mt-2">
          By clicking the Sign Up button, you accept the<br />
          <a class="underline" href="#" (click)="$event.preventDefault()">terms</a>
          of the
          <a class="underline" href="#" (click)="$event.preventDefault()">Privacy Policy</a>.
        </p>

        <p class="text-[12px] text-neutral-700 text-center">
          Already have an account?
          <a routerLink="/auth/login" class="font-semibold text-black">Log in</a>
        </p>

        <div *ngIf="submitted" class="mt-3 rounded-md border border-lime-200 bg-lime-50 p-3 text-sm text-neutral-700">
          Activation email sent. Link is valid for 24h.
        </div>
      </form>

      <!-- RIGHT: IMAGE UPLOAD -->
      <div class="flex justify-center">
        <label class="w-full max-w-[720px] aspect-[4/3] rounded-[34px] bg-neutral-200
                      flex items-center justify-center cursor-pointer relative overflow-hidden">
          <input type="file" accept="image/*" class="hidden" (change)="onPickImage($event)" />

          <div class="text-neutral-500">
            <img src="icons/camera.svg" alt="camera" class="h-32 w-32" />
          </div>



          <div class="absolute bottom-4 text-xs text-neutral-500">
            Click to upload photo (optional)
          </div>
        </label>
      </div>
    </div>
  </main>
</div>
