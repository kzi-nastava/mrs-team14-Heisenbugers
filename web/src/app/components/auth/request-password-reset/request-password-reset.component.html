<header></header>

<div class="min-h-screen bg-white">
  <div class="flex min-h-screen items-start justify-center">
    <div class="w-full max-w-130 px-6 pt-17.5">
      <h1 class="text-center text-[34px] font-extrabold text-black mb-13.75">
        Forgot password
      </h1>

      <form [formGroup]="form" (ngSubmit)="submit()" class="mx-auto w-full max-w-82.5 space-y-5">
        <!-- Email -->
        <div>
          <label class="block text-[12px] text-neutral-300 mb-1.5">Email</label>
          <div class="relative">
            <input
              id="email"
              type="email"
              formControlName="email"
              class="w-full h-10 rounded-[10px] border border-neutral-200 bg-white px-4 pr-4 shadow-sm focus:outline-none focus:ring-4 focus:ring-lime-200"
              [class.border-neutral-200]="!isInvalid('email')"
              [class.focus:ring-lime-200]="!isInvalid('email')"
              [class.border-red-400]="isInvalid('email')"
              [class.focus:ring-red-200]="isInvalid('email')"
              placeholder="your.email@example.com"
            />
          </div>

          @if (isInvalid('email') && f.email.hasError('required')) {
            <p class="mt-1 text-xs text-red-500">Required</p>
          }
          @if (isInvalid('email') && f.email.hasError('email')) {
            <p class="mt-1 text-xs text-red-500">Enter a valid email</p>
          }
        </div>

        <!-- Send button -->
        <div class="pt-10">
          <button
            type="submit"
            class="mx-auto block h-10.5 w-47.5 rounded-[10px] bg-lime-300 text-black font-semibold shadow hover:bg-lime-200 active:scale-[0.99] disabled:opacity-60"
            [disabled]="loading"
          >
            @if (!loading) {
              <span>Send reset link</span>
            } @else {
              <span>Sending...</span>
            }
          </button>

          <p class="text-[10px] text-neutral-300 text-center leading-snug mt-3">
            Enter the email you used to create your account. If it exists,<br />
            weâ€™ll send you a link to reset your password.
          </p>

          <!-- Success message -->
          @if (done) {
            <div
              class="mt-3 rounded-md border border-lime-200 bg-lime-50 p-3 text-sm text-neutral-700 text-center"
            >
              If an account with this email exists, a reset link has been sent.
              <br />
              You can now check your inbox and then
              <a class="underline" [routerLink]="['/auth/login']">go back to login</a>.
            </div>
          }

          <!-- Error message -->
          @if (errorMsg) {
            <div
              class="mt-3 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700 text-center"
            >
              {{ errorMsg }}
            </div>
          }

          <div class="mt-4 text-center">
            <a
              class="text-[12px] text-neutral-400 underline hover:text-neutral-700"
              [routerLink]="['/auth/login']"
            >
              Back to login
            </a>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
